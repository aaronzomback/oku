{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/aaronzomback/Sites/oku/client-react-native/containers/CreateHaikuForm.jsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport { syllable } from 'syllable';\nimport { useForm } from \"../util/hooks\";\nimport { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { CREATE_HAIKU_MUTATION } from \"../graphql/Mutations\";\nimport { FETCH_HAIKUS_QUERY } from \"../graphql/Queries\";\nimport { Input, Button } from 'react-native-elements';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { syllableReq } from \"../util/hooks\";\n\nfunction HaikuForm() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useForm = useForm(createHaikuCallback, {\n    line1: '',\n    line2: '',\n    line3: ''\n  }),\n      values = _useForm.values,\n      onChange = _useForm.onChange;\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      line1 = _useState4[0],\n      setLine1 = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      line2 = _useState6[0],\n      setLine2 = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      line3 = _useState8[0],\n      setLine3 = _useState8[1];\n\n  var submitHandler = function submitHandler(e) {\n    return _regeneratorRuntime.async(function submitHandler$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n\n            if (!(syllable(line1) === 5 && syllable(line2) === 7 && syllable(line3) === 5)) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(createHaiku({\n              variables: {\n                line1: line1,\n                line2: line2,\n                line3: line3\n              }\n            }));\n\n          case 4:\n            setLine1('');\n            setLine2('');\n            setLine3('');\n            _context.next = 11;\n            break;\n\n          case 9:\n            setError(true);\n            alert('You must fulfill all syllable requirements! ðŸ‘€');\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var onChangeHandlerLine1 = function onChangeHandlerLine1(e) {\n    setLine1(e.target.value);\n    error && setError(false);\n  };\n\n  var onChangeHandlerLine2 = function onChangeHandlerLine2(e) {\n    setLine2(e.target.value);\n    error && setError(false);\n  };\n\n  var onChangeHandlerLine3 = function onChangeHandlerLine3(e) {\n    setLine3(e.target.value);\n    error && setError(false);\n  };\n\n  var _useMutation = useMutation(CREATE_HAIKU_MUTATION),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      createHaiku = _useMutation2[0];\n\n  function createHaikuCallback() {\n    createHaiku();\n  }\n\n  return React.createElement(\"form\", {\n    className: \"create-haiku-form\",\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, React.createElement(\"h2\", {\n    className: \"create-haiku-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"Create haiku:\"), React.createElement(View, {\n    style: styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, React.createElement(\"input\", {\n    placeholder: \"Enter your first line...\",\n    name: \"line1\",\n    value: line1,\n    onChange: onChangeHandlerLine1,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), React.createElement(\"input\", {\n    placeholder: \"Enter your second line...\",\n    name: \"line2\",\n    value: line2,\n    onChange: onChangeHandlerLine2,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), React.createElement(\"input\", {\n    placeholder: \"Enter your third line...\",\n    name: \"line3\",\n    value: line3,\n    onChange: onChangeHandlerLine3,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  })), React.createElement(View, {\n    style: styles.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }, \"Publish haiku\"))));\n}\n\nvar styles = StyleSheet.create({\n  baseText: {\n    flex: 1,\n    fontFamily: 'SFProDisplay-Regular',\n    fontSize: 24,\n    color: '#60BADA',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  inputFlex: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  input: {\n    height: 40,\n    margin: 12,\n    width: 400,\n    borderBottomWidth: 2,\n    borderTopWidth: 0,\n    borderRightWidth: 0,\n    borderLeftWidth: 0,\n    padding: 10,\n    borderColor: '#60BADA',\n    alignItems: 'center'\n  },\n  button: {\n    marginTop: 48,\n    flex: 1,\n    textAlign: 'center',\n    width: 400,\n    justifyContent: 'center',\n    padding: '24',\n    alignItems: 'center',\n    color: '#F2F4F7',\n    backgroundColor: '#60BADA',\n    padding: 10\n  }\n});\nexport default HaikuForm;","map":{"version":3,"sources":["/Users/aaronzomback/Sites/oku/client-react-native/containers/CreateHaikuForm.jsx"],"names":["React","syllable","useForm","useState","useMutation","CREATE_HAIKU_MUTATION","FETCH_HAIKUS_QUERY","Input","Button","syllableReq","HaikuForm","error","setError","createHaikuCallback","line1","line2","line3","values","onChange","setLine1","setLine2","setLine3","submitHandler","e","preventDefault","createHaiku","variables","alert","onChangeHandlerLine1","target","value","onChangeHandlerLine2","onChangeHandlerLine3","styles","input","button","StyleSheet","create","baseText","flex","fontFamily","fontSize","color","justifyContent","alignItems","inputFlex","height","margin","width","borderBottomWidth","borderTopWidth","borderRightWidth","borderLeftWidth","padding","borderColor","marginTop","textAlign","backgroundColor"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { syllable } from 'syllable';\nimport { useForm } from '../util/hooks';\nimport { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { CREATE_HAIKU_MUTATION } from '../graphql/Mutations';\nimport { FETCH_HAIKUS_QUERY } from '../graphql/Queries';\nimport { Input, Button } from 'react-native-elements';\nimport { View, Text, StyleSheet, TextInput, Keyboard, TouchableOpacity } from 'react-native';\nimport { syllableReq } from '../util/hooks';\n\nfunction HaikuForm () {\n\n\n  const [error, setError] = useState(false);\n\n  const { values, onChange } = useForm(createHaikuCallback, {\n    line1: '',\n    line2: '',\n    line3: ''\n  });\n\n  const [line1, setLine1] = useState('');\n  const [line2, setLine2] = useState('');\n  const [line3, setLine3] = useState('');\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n\n    if (syllable(line1) === 5 && syllable(line2) === 7 && syllable(line3) === 5) {\n      await createHaiku({\n        variables: {\n          line1,\n          line2,\n          line3\n        }\n      });\n      setLine1('');\n      setLine2('');\n      setLine3('');\n    } else {\n      setError(true);\n      alert('You must fulfill all syllable requirements! ðŸ‘€')\n    }\n  }\n\n\n  const onChangeHandlerLine1 = (e) => {\n    setLine1(e.target.value);\n    error && setError(false);\n  }\n\n  const onChangeHandlerLine2 = (e) => {\n    setLine2(e.target.value);\n    error && setError(false);\n  }\n\n  const onChangeHandlerLine3 = (e) => {\n    setLine3(e.target.value);\n    error && setError(false);\n  }\n\n\n  const [createHaiku ] = useMutation(CREATE_HAIKU_MUTATION);\n  \n\n  function createHaikuCallback() {\n    createHaiku();\n  }\n  \n  return (\n    <form className=\"create-haiku-form\" onSubmit={submitHandler}>\n      <h2 className=\"create-haiku-title\">\n        Create haiku:\n      </h2>\n      <View style={styles.input}>\n      <input placeholder=\"Enter your first line...\" name='line1' value={line1} onChange={onChangeHandlerLine1} noValidate></input>\n      {/* <span>Syllables: {syllable(e.target.value)}</span> */}\n      <input placeholder=\"Enter your second line...\" name='line2' value={line2} onChange={onChangeHandlerLine2} noValidate></input>\n      <input placeholder=\"Enter your third line...\" name='line3' value={line3} onChange={onChangeHandlerLine3} noValidate></input>\n      </View>\n      <View style={styles.button}>\n      <button type=\"submit\"><Text>Publish haiku</Text></button>\n      </View>\n    </form>\n  )\n}\n\nconst styles = StyleSheet.create({\n  baseText: {\n    flex: 1,\n    fontFamily: 'SFProDisplay-Regular',\n    fontSize: 24,\n    color: '#60BADA',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  inputFlex: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  input: {\n    height: 40,\n    margin: 12,\n    width: 400,\n    borderBottomWidth: 2,\n    borderTopWidth: 0,\n    borderRightWidth: 0,\n    borderLeftWidth: 0,\n    padding: 10,\n    borderColor: '#60BADA',\n    alignItems: 'center'\n    // width: '50%'\n  },\n  button: {\n    marginTop: 48,\n    flex: 1, \n    textAlign: 'center', \n    width: 400, \n    justifyContent: 'center', \n    padding: '24', \n    alignItems: 'center', \n    color: '#F2F4F7', \n    backgroundColor: '#60BADA',\n    padding: 10\n  }\n});\n\n\n\nexport default HaikuForm;"]},"metadata":{},"sourceType":"module"}