{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/aaronzomback/Sites/oku/client-react-native/components/CreateHaikuForm.jsx\";\nimport React from 'react';\nimport { useForm } from \"../util/hooks\";\nimport { useMutation } from '@apollo/client';\nimport { CREATE_HAIKU_MUTATION } from \"../graphql/Mutations\";\nimport { FETCH_HAIKUS_QUERY } from \"../graphql/Queries\";\nimport { Input, Button } from 'react-native-elements';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\n\nfunction HaikuForm() {\n  var _useForm = useForm(createHaikuCallback, {\n    content: ''\n  }),\n      values = _useForm.values,\n      onChange = _useForm.onChange,\n      onSubmit = _useForm.onSubmit;\n\n  var _useMutation = useMutation(CREATE_HAIKU_MUTATION, {\n    variables: values,\n    update: function update(_, result) {\n      console.log(result);\n      values.content = '';\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      createHaiku = _useMutation2[0],\n      error = _useMutation2[1].error;\n\n  function createHaikuCallback() {\n    createHaiku();\n  }\n\n  return React.createElement(View, {\n    style: styles.baseText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, React.createElement(\"form\", {\n    className: \"create-haiku-form\",\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, React.createElement(\"h2\", {\n    className: \"create-haiku-title\",\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"Create haiku:\"), React.createElement(View, {\n    styles: styles.inputFlex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Enter your first line...\",\n    name: \"contentField1\",\n    value: values.content,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Enter your second line...\",\n    name: \"contentField2\",\n    value: values.content,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Enter your third line...\",\n    name: \"contentField3\",\n    value: values.content,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"content\",\n    value: values.content,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  })), React.createElement(TouchableOpacity, {\n    type: \"submit\",\n    style: styles.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"Publish haiku\"))));\n}\n\nvar styles = StyleSheet.create({\n  baseText: {\n    flex: 1,\n    fontFamily: 'SFProDisplay-Regular',\n    fontSize: 24,\n    color: '#60BADA',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  inputFlex: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  input: {\n    height: 40,\n    margin: 12,\n    width: 400,\n    borderBottomWidth: 2,\n    borderTopWidth: 0,\n    borderRightWidth: 0,\n    borderLeftWidth: 0,\n    padding: 10,\n    borderColor: '#60BADA',\n    alignItems: 'center'\n  },\n  button: {\n    flex: 1,\n    textAlign: 'center',\n    width: 400,\n    justifyContent: 'center',\n    padding: '24',\n    alignItems: 'center',\n    color: '#F2F4F7',\n    backgroundColor: '#60BADA'\n  }\n});\nexport default HaikuForm;","map":{"version":3,"sources":["/Users/aaronzomback/Sites/oku/client-react-native/components/CreateHaikuForm.jsx"],"names":["React","useForm","useMutation","CREATE_HAIKU_MUTATION","FETCH_HAIKUS_QUERY","Input","Button","HaikuForm","createHaikuCallback","content","values","onChange","onSubmit","variables","update","_","result","console","log","createHaiku","error","styles","baseText","textAlign","inputFlex","input","button","StyleSheet","create","flex","fontFamily","fontSize","color","justifyContent","alignItems","height","margin","width","borderBottomWidth","borderTopWidth","borderRightWidth","borderLeftWidth","padding","borderColor","backgroundColor"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useForm } from '../util/hooks';\nimport { useMutation } from '@apollo/client';\nimport { CREATE_HAIKU_MUTATION } from '../graphql/Mutations';\nimport { FETCH_HAIKUS_QUERY } from '../graphql/Queries';\nimport { Input, Button } from 'react-native-elements';\nimport { View, Text, StyleSheet, TextInput, Keyboard, TouchableOpacity } from 'react-native';\n\nfunction HaikuForm () {\n\n\n  const { values, onChange, onSubmit } = useForm(createHaikuCallback, {\n    content: ''\n  });\n\n  const [createHaiku, { error }] = useMutation(CREATE_HAIKU_MUTATION, {\n    variables: values,\n    // here we access our apollo cache to display all haikus & our recent posted one\n    update(_, result) {\n      // const data = proxy.readQuery({\n      //   query: FETCH_HAIKUS_QUERY\n      // })\n      // data.getHaikus = [...data.createHaikus, result.data.getHaikus]\n      // proxy.writeQuery({ query: FETCH_HAIKUS_QUERY, data })\n      console.log(result);\n      values.content = '';\n    }\n  });\n\n  function createHaikuCallback() {\n    createHaiku();\n  }\n  \n  return (\n    <View style={styles.baseText}>\n      <form className=\"create-haiku-form\" onSubmit={onSubmit}>\n        <h2 className=\"create-haiku-title\" style={{ textAlign: 'center' }}>\n          Create haiku:\n        </h2>\n      <View styles={styles.inputFlex}>\n        <TextInput style={styles.input} placeholder=\"Enter your first line...\" name='contentField1' value={values.content} onChange={onChange}></TextInput>\n        <TextInput style={styles.input} placeholder=\"Enter your second line...\" name='contentField2' value={values.content} onChange={onChange}></TextInput>\n        <TextInput style={styles.input} placeholder=\"Enter your third line...\" name='contentField3' value={values.content} onChange={onChange}></TextInput>\n        <input type='hidden' name='content' value={values.content} onChange={onChange}></input>\n      </View>\n        <TouchableOpacity type=\"submit\" style={styles.button}\n        >\n          <Text>Publish haiku</Text>\n          </TouchableOpacity>\n      </form>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  baseText: {\n    flex: 1,\n    fontFamily: 'SFProDisplay-Regular',\n    fontSize: 24,\n    color: '#60BADA',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  inputFlex: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  input: {\n    height: 40,\n    margin: 12,\n    width: 400,\n    borderBottomWidth: 2,\n    borderTopWidth: 0,\n    borderRightWidth: 0,\n    borderLeftWidth: 0,\n    padding: 10,\n    borderColor: '#60BADA',\n    alignItems: 'center'\n    // width: '50%'\n  },\n  button: {\n    flex: 1, textAlign: 'center', width: 400, justifyContent: 'center', padding: '24', alignItems: 'center', color: '#F2F4F7', backgroundColor: '#60BADA'\n  }\n});\n\n\n\nexport default HaikuForm;"]},"metadata":{},"sourceType":"module"}