{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/aaronzomback/Sites/oku/client-react-native/components/CreateHaikuForm.jsx\";\nimport React from 'react';\nimport { useForm } from \"../util/hooks\";\nimport { useMutation } from '@apollo/client';\nimport { CREATE_HAIKU_MUTATION } from \"../graphql/Mutations\";\nimport { FETCH_HAIKUS_QUERY } from \"../graphql/Queries\";\nimport { Input, Button } from 'react-native-elements';\n\nfunction HaikuForm() {\n  function combine(form) {\n    form.content.value = form.contentField1.value + form.contentField2.value + form.contentField3.value;\n  }\n\n  var _useForm = useForm(createHaikuCallback, {\n    content: '',\n    contentField1: '',\n    contentField2: '',\n    contentField3: ''\n  }),\n      values = _useForm.values,\n      onChange = _useForm.onChange,\n      onSubmit = _useForm.onSubmit;\n\n  var _useMutation = useMutation(CREATE_HAIKU_MUTATION, {\n    variables: values,\n    update: function update(_, result) {\n      console.log(result);\n      values.content = '';\n      values.contentField1 = '';\n      values.contentField2 = '';\n      values.contentField3 = '';\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      createHaiku = _useMutation2[0],\n      error = _useMutation2[1].error;\n\n  function createHaikuCallback() {\n    createHaiku();\n  }\n\n  return React.createElement(\"form\", {\n    className: \"create-haiku-form\",\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, React.createElement(\"h2\", {\n    className: \"create-haiku-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"Create haiku:\"), React.createElement(\"input\", {\n    placeholder: \"Enter your first line...\",\n    name: \"contentField1\",\n    value: values.content,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), React.createElement(\"input\", {\n    placeholder: \"Enter your second line...\",\n    name: \"contentField2\",\n    value: values.content,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), React.createElement(\"input\", {\n    placeholder: \"Enter your third line...\",\n    name: \"contentField3\",\n    value: values.content,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), React.createElement(\"input\", {\n    placeholder: \"Enter your second line...\",\n    type: \"hidden\",\n    name: \"content\",\n    value: values.content,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: combine(this.form),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 1\n    }\n  }, \"Publish haiku\"));\n}\n\nexport default HaikuForm;","map":{"version":3,"sources":["/Users/aaronzomback/Sites/oku/client-react-native/components/CreateHaikuForm.jsx"],"names":["React","useForm","useMutation","CREATE_HAIKU_MUTATION","FETCH_HAIKUS_QUERY","Input","Button","HaikuForm","combine","form","content","value","contentField1","contentField2","contentField3","createHaikuCallback","values","onChange","onSubmit","variables","update","_","result","console","log","createHaiku","error"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,qBAAT;AACA,SAASC,kBAAT;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,uBAA9B;;AAEA,SAASC,SAAT,GAAsB;AAEpB,WAASC,OAAT,CAAiBC,IAAjB,EAAuB;AACrBA,IAAAA,IAAI,CAACC,OAAL,CAAaC,KAAb,GAAqBF,IAAI,CAACG,aAAL,CAAmBD,KAAnB,GAA2BF,IAAI,CAACI,aAAL,CAAmBF,KAA9C,GAAsDF,IAAI,CAACK,aAAL,CAAmBH,KAA9F;AACC;;AAEH,iBAAuCV,OAAO,CAACc,mBAAD,EAAsB;AAClEL,IAAAA,OAAO,EAAE,EADyD;AAElEE,IAAAA,aAAa,EAAE,EAFmD;AAGlEC,IAAAA,aAAa,EAAE,EAHmD;AAIlEC,IAAAA,aAAa,EAAE;AAJmD,GAAtB,CAA9C;AAAA,MAAQE,MAAR,YAAQA,MAAR;AAAA,MAAgBC,QAAhB,YAAgBA,QAAhB;AAAA,MAA0BC,QAA1B,YAA0BA,QAA1B;;AAOA,qBAAiChB,WAAW,CAACC,qBAAD,EAAwB;AAClEgB,IAAAA,SAAS,EAAEH,MADuD;AAGlEI,IAAAA,MAHkE,kBAG3DC,CAH2D,EAGxDC,MAHwD,EAGhD;AAMhBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACAN,MAAAA,MAAM,CAACN,OAAP,GAAiB,EAAjB;AACAM,MAAAA,MAAM,CAACJ,aAAP,GAAuB,EAAvB;AACAI,MAAAA,MAAM,CAACH,aAAP,GAAuB,EAAvB;AACAG,MAAAA,MAAM,CAACF,aAAP,GAAuB,EAAvB;AACD;AAdiE,GAAxB,CAA5C;AAAA;AAAA,MAAOW,WAAP;AAAA,MAAsBC,KAAtB,oBAAsBA,KAAtB;;AAiBA,WAASX,mBAAT,GAA+B;AAC7BU,IAAAA,WAAW;AACZ;;AAED,SACE;AAAM,IAAA,SAAS,EAAC,mBAAhB;AAAoC,IAAA,QAAQ,EAAEP,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAIE;AAAO,IAAA,WAAW,EAAC,0BAAnB;AAA8C,IAAA,IAAI,EAAC,eAAnD;AAAmE,IAAA,KAAK,EAAEF,MAAM,CAACN,OAAjF;AAA0F,IAAA,QAAQ,EAAEO,QAApG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE;AAAO,IAAA,WAAW,EAAC,2BAAnB;AAA+C,IAAA,IAAI,EAAC,eAApD;AAAoE,IAAA,KAAK,EAAED,MAAM,CAACN,OAAlF;AAA2F,IAAA,QAAQ,EAAEO,QAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAME;AAAO,IAAA,WAAW,EAAC,0BAAnB;AAA8C,IAAA,IAAI,EAAC,eAAnD;AAAmE,IAAA,KAAK,EAAED,MAAM,CAACN,OAAjF;AAA0F,IAAA,QAAQ,EAAEO,QAApG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAOE;AAAO,IAAA,WAAW,EAAC,2BAAnB;AAA+C,IAAA,IAAI,EAAC,QAApD;AAA6D,IAAA,IAAI,EAAC,SAAlE;AAA4E,IAAA,KAAK,EAAED,MAAM,CAACN,OAA1F;AAAmG,IAAA,QAAQ,EAAEO,QAA7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EASJ;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAET,OAAO,CAAC,KAAKC,IAAN,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBATI,CADF;AAaD;;AAGD,eAAeF,SAAf","sourcesContent":["import React from 'react';\nimport { useForm } from '../util/hooks';\nimport { useMutation } from '@apollo/client';\nimport { CREATE_HAIKU_MUTATION } from '../graphql/Mutations';\nimport { FETCH_HAIKUS_QUERY } from '../graphql/Queries';\nimport { Input, Button } from 'react-native-elements';\n\nfunction HaikuForm () {\n\n  function combine(form) {\n    form.content.value = form.contentField1.value + form.contentField2.value + form.contentField3.value;\n    }\n\n  const { values, onChange, onSubmit } = useForm(createHaikuCallback, {\n    content: '',\n    contentField1: '',\n    contentField2: '',\n    contentField3: '',\n  });\n\n  const [createHaiku, { error }] = useMutation(CREATE_HAIKU_MUTATION, {\n    variables: values,\n    // here we access our apollo cache to display all haikus & our recent posted one\n    update(_, result) {\n      // const data = proxy.readQuery({\n      //   query: FETCH_HAIKUS_QUERY\n      // })\n      // data.getHaikus = [...data.createHaikus, result.data.getHaikus]\n      // proxy.writeQuery({ query: FETCH_HAIKUS_QUERY, data })\n      console.log(result);\n      values.content = '';\n      values.contentField1 = '';\n      values.contentField2 = '';\n      values.contentField3 = '';\n    }\n  });\n\n  function createHaikuCallback() {\n    createHaiku();\n  }\n  \n  return (\n    <form className=\"create-haiku-form\" onSubmit={onSubmit}>\n      <h2 className=\"create-haiku-title\">\n        Create haiku:\n      </h2>\n      <input placeholder=\"Enter your first line...\" name='contentField1' value={values.content} onChange={onChange}></input>\n      <input placeholder=\"Enter your second line...\" name='contentField2' value={values.content} onChange={onChange}></input>\n      <input placeholder=\"Enter your third line...\" name='contentField3' value={values.content} onChange={onChange}></input>\n      <input placeholder=\"Enter your second line...\" type='hidden' name='content' value={values.content} onChange={onChange}></input>\n\n<button type=\"submit\" onClick={combine(this.form)}>Publish haiku</button>\n    </form>\n  )\n}\n\n\nexport default HaikuForm;"]},"metadata":{},"sourceType":"module"}