{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/aaronzomback/Sites/oku/client-react-native/containers/CreateHaikuForm.jsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport { syllable } from 'syllable';\nimport { useForm } from \"../util/hooks\";\nimport { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { CREATE_HAIKU_MUTATION } from \"../graphql/Mutations\";\nimport { FETCH_HAIKUS_QUERY } from \"../graphql/Queries\";\nimport { Input, Button } from 'react-native-elements';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\n\nfunction HaikuForm() {\n  {}\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      line1 = _useState2[0],\n      setLine1 = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      line2 = _useState4[0],\n      setLine2 = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      line3 = _useState6[0],\n      setLine3 = _useState6[1];\n\n  {}\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      syllablesLine1 = _useState8[0],\n      setSyllablesLine1 = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      syllablesLine2 = _useState10[0],\n      setSyllablesLine2 = _useState10[1];\n\n  var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      syllablesLine3 = _useState12[0],\n      setSyllablesLine3 = _useState12[1];\n\n  {}\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      error = _useState14[0],\n      setError = _useState14[1];\n\n  {}\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      syllableError1 = _useState16[0],\n      setSyllableErrorLine1 = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      syllableError2 = _useState18[0],\n      setSyllableErrorLine2 = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      syllableError3 = _useState20[0],\n      setSyllableErrorLine3 = _useState20[1];\n\n  {}\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      syllableValid1 = _useState22[0],\n      setSyllableValidLine1 = _useState22[1];\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      syllableValid2 = _useState24[0],\n      setSyllableValidLine2 = _useState24[1];\n\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      syllableValid3 = _useState26[0],\n      setSyllableValidLine3 = _useState26[1];\n\n  var submitHandler = function submitHandler(e) {\n    return _regeneratorRuntime.async(function submitHandler$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n\n            if (!(syllable(line1) === 5 && syllable(line2) === 7 && syllable(line3) === 5)) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(createHaiku({\n              variables: {\n                line1: line1,\n                line2: line2,\n                line3: line3\n              }\n            }));\n\n          case 4:\n            setLine1('');\n            setLine2('');\n            setLine3('');\n            _context.next = 11;\n            break;\n\n          case 9:\n            setError(true);\n            alert('You must fulfill all syllable requirements! ðŸ‘€');\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var onChangeHandlerLine1 = function onChangeHandlerLine1(e) {\n    setLine1(e.target.value);\n    setSyllablesLine1(syllable(e.target.value));\n    var setSyllLine1 = syllable(e.target.value);\n\n    if (setSyllLine1 > 5) {\n      setSyllableErrorLine1(true);\n      setSyllableValidLine1(false);\n      setSyllablesLine1(5 - syllable(e.target.value));\n      console.log('syllable valid ?: ', syllableValid1);\n    } else if (setSyllLine1 === 5) {\n      setSyllableValidLine1(true);\n      setSyllableErrorLine1(false);\n      console.log('syllable valid ?: ', syllableValid1);\n    } else {\n      setSyllableErrorLine1(false);\n      setSyllableValidLine1(false);\n      console.log('syllable valid ?: ', syllableValid1);\n    }\n\n    error && setError(false);\n  };\n\n  var onChangeHandlerLine2 = function onChangeHandlerLine2(e) {\n    setLine2(e.target.value);\n    setSyllablesLine2(syllable(e.target.value));\n    var setSyllLine2 = syllable(e.target.value);\n\n    if (setSyllLine2 > 7) {\n      setSyllableErrorLine2(true);\n      setSyllablesLine2(7 - syllable(e.target.value));\n    } else {\n      setSyllableErrorLine2(false);\n    }\n\n    error && setError(false);\n  };\n\n  var onChangeHandlerLine3 = function onChangeHandlerLine3(e) {\n    setLine3(e.target.value);\n    setSyllablesLine3(syllable(e.target.value));\n    var setSyllLine3 = syllable(e.target.value);\n\n    if (setSyllLine3 > 5) {\n      setSyllableErrorLine3(true);\n      setSyllablesLine3(5 - syllable(e.target.value));\n    } else {\n      setSyllableErrorLine3(false);\n    }\n\n    error && setError(false);\n  };\n\n  var _useMutation = useMutation(CREATE_HAIKU_MUTATION),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      createHaiku = _useMutation2[0];\n\n  function createHaikuCallback() {\n    createHaiku();\n  }\n\n  return React.createElement(View, {\n    style: {\n      marginTop: \"10rem\",\n      width: \"24rem\",\n      marginRight: 'auto',\n      marginLeft: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    className: \"create-haiku-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, \"Create haiku:\"), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Enter your first line...\",\n    name: \"line1\",\n    value: line1,\n    onChange: onChangeHandlerLine1,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), !syllableError1 ? React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 27\n    }\n  }, \"  \", syllablesLine1, \"  / 5 syllables \") : React.createElement(Text, {\n    style: syllableError1 ? styles.invalidSyllable : !syllableError1 && syllableValid1 ? styles.validSyllable : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, \" \", syllablesLine1, \" syllables\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Enter your second line...\",\n    name: \"line2\",\n    value: line2,\n    onChange: onChangeHandlerLine2,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }), !syllableError2 ? React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 27\n    }\n  }, \"  \", syllablesLine2, \"  / 7 syllables\") : React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, \" \", syllablesLine2, \" syllables\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Enter your third line...\",\n    name: \"line3\",\n    value: line3,\n    onChange: onChangeHandlerLine3,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 8\n    }\n  }), !syllableError3 ? React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 28\n    }\n  }, \"  \", syllablesLine3, \"  / 5 syllables\") : React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, \" \", syllablesLine3, \" syllables\")), React.createElement(View, {\n    style: styles.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    type: \"submit\",\n    style: {\n      width: \"24rem\",\n      paddingTop: \"0.1em\",\n      paddingBottom: \"0.1em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 32,\n      color: '#F5F2EB',\n      textAlign: \"center\",\n      textTransform: \"uppercase\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, \"Publish haiku\"))));\n}\n\nvar styles = StyleSheet.create({\n  baseText: {\n    flex: 1,\n    fontFamily: 'SFProDisplay-Regular',\n    fontSize: 24,\n    color: '#20994C',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  inputFlex: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  input: {\n    height: 40,\n    margin: 12,\n    width: 400,\n    borderBottomWidth: 2,\n    padding: 10,\n    borderColor: '#20994C',\n    alignItems: 'center'\n  },\n  button: {\n    marginTop: 24,\n    flex: 1,\n    textAlign: 'center',\n    width: 400,\n    justifyContent: 'center',\n    padding: '24',\n    alignItems: 'center',\n    color: '#F2F4F7',\n    backgroundColor: '#20994C',\n    padding: 10\n  },\n  invalidSyllable: {\n    color: \"#dc143c\"\n  },\n  validSyllable: {\n    color: \"#32cd32\",\n    fontSize: 24\n  }\n});\nexport default HaikuForm;","map":{"version":3,"sources":["/Users/aaronzomback/Sites/oku/client-react-native/containers/CreateHaikuForm.jsx"],"names":["React","syllable","useForm","useState","useMutation","CREATE_HAIKU_MUTATION","FETCH_HAIKUS_QUERY","Input","Button","HaikuForm","line1","setLine1","line2","setLine2","line3","setLine3","syllablesLine1","setSyllablesLine1","syllablesLine2","setSyllablesLine2","syllablesLine3","setSyllablesLine3","error","setError","syllableError1","setSyllableErrorLine1","syllableError2","setSyllableErrorLine2","syllableError3","setSyllableErrorLine3","syllableValid1","setSyllableValidLine1","syllableValid2","setSyllableValidLine2","syllableValid3","setSyllableValidLine3","submitHandler","e","preventDefault","createHaiku","variables","alert","onChangeHandlerLine1","target","value","setSyllLine1","console","log","onChangeHandlerLine2","setSyllLine2","onChangeHandlerLine3","setSyllLine3","createHaikuCallback","marginTop","width","marginRight","marginLeft","styles","input","invalidSyllable","validSyllable","button","paddingTop","paddingBottom","fontSize","color","textAlign","textTransform","StyleSheet","create","baseText","flex","fontFamily","justifyContent","alignItems","inputFlex","height","margin","borderBottomWidth","padding","borderColor","backgroundColor"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,UAAzB;AACA,SAASC,OAAT;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,qBAAT;AACA,SAASC,kBAAT;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,uBAA9B;;;;;;;;AAGA,SAASC,SAAT,GAAsB;AAEpB,GAA4C;;AAC5C,kBAA0BN,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOO,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAA0BR,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOS,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAA0BV,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOW,KAAP;AAAA,MAAcC,QAAd;;AAEA,GAA4B;;AAC5B,mBAA4CZ,QAAQ,CAAC,CAAD,CAApD;AAAA;AAAA,MAAOa,cAAP;AAAA,MAAuBC,iBAAvB;;AACA,mBAA4Cd,QAAQ,CAAC,CAAD,CAApD;AAAA;AAAA,MAAOe,cAAP;AAAA,MAAuBC,iBAAvB;;AACA,oBAA4ChB,QAAQ,CAAC,CAAD,CAApD;AAAA;AAAA,MAAOiB,cAAP;AAAA,MAAuBC,iBAAvB;;AAEA,GAAmC;;AACnC,oBAA0BlB,QAAQ,CAAC,KAAD,CAAlC;AAAA;AAAA,MAAOmB,KAAP;AAAA,MAAcC,QAAd;;AAEA,GAAuD;;AACvD,oBAAgDpB,QAAQ,CAAC,KAAD,CAAxD;AAAA;AAAA,MAAOqB,cAAP;AAAA,MAAuBC,qBAAvB;;AACA,oBAAgDtB,QAAQ,CAAC,KAAD,CAAxD;AAAA;AAAA,MAAOuB,cAAP;AAAA,MAAuBC,qBAAvB;;AACA,oBAAgDxB,QAAQ,CAAC,KAAD,CAAxD;AAAA;AAAA,MAAOyB,cAAP;AAAA,MAAuBC,qBAAvB;;AAEE,GAAwD;;AACxD,oBAAgD1B,QAAQ,CAAC,KAAD,CAAxD;AAAA;AAAA,MAAO2B,cAAP;AAAA,MAAuBC,qBAAvB;;AACA,oBAAgD5B,QAAQ,CAAC,KAAD,CAAxD;AAAA;AAAA,MAAO6B,cAAP;AAAA,MAAuBC,qBAAvB;;AACA,oBAAgD9B,QAAQ,CAAC,KAAD,CAAxD;AAAA;AAAA,MAAO+B,cAAP;AAAA,MAAuBC,qBAAvB;;AAEF,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AACpBA,YAAAA,CAAC,CAACC,cAAF;;AADoB,kBAGhBrC,QAAQ,CAACS,KAAD,CAAR,KAAoB,CAApB,IAAyBT,QAAQ,CAACW,KAAD,CAAR,KAAoB,CAA7C,IAAkDX,QAAQ,CAACa,KAAD,CAAR,KAAoB,CAHtD;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAIZyB,WAAW,CAAC;AAChBC,cAAAA,SAAS,EAAE;AACT9B,gBAAAA,KAAK,EAALA,KADS;AAETE,gBAAAA,KAAK,EAALA,KAFS;AAGTE,gBAAAA,KAAK,EAALA;AAHS;AADK,aAAD,CAJC;;AAAA;AAWlBH,YAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,YAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,YAAAA,QAAQ,CAAC,EAAD,CAAR;AAbkB;AAAA;;AAAA;AAelBQ,YAAAA,QAAQ,CAAC,IAAD,CAAR;AACAkB,YAAAA,KAAK,CAAC,gDAAD,CAAL;;AAhBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAqBA,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACL,CAAD,EAAO;AAClC1B,IAAAA,QAAQ,CAAC0B,CAAC,CAACM,MAAF,CAASC,KAAV,CAAR;AACA3B,IAAAA,iBAAiB,CAAChB,QAAQ,CAACoC,CAAC,CAACM,MAAF,CAASC,KAAV,CAAT,CAAjB;AACA,QAAMC,YAAY,GAAG5C,QAAQ,CAACoC,CAAC,CAACM,MAAF,CAASC,KAAV,CAA7B;;AACA,QAAIC,YAAY,GAAG,CAAnB,EAAsB;AACpBpB,MAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAM,MAAAA,qBAAqB,CAAC,KAAD,CAArB;AACAd,MAAAA,iBAAiB,CAAC,IAAIhB,QAAQ,CAACoC,CAAC,CAACM,MAAF,CAASC,KAAV,CAAb,CAAjB;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCjB,cAAlC;AACD,KALD,MAKO,IAAIe,YAAY,KAAK,CAArB,EAAwB;AAC7Bd,MAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAN,MAAAA,qBAAqB,CAAC,KAAD,CAArB;AACAqB,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCjB,cAAlC;AACD,KAJM,MAIA;AACLL,MAAAA,qBAAqB,CAAC,KAAD,CAArB;AACAM,MAAAA,qBAAqB,CAAC,KAAD,CAArB;AACAe,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCjB,cAAlC;AACD;;AACDR,IAAAA,KAAK,IAAIC,QAAQ,CAAC,KAAD,CAAjB;AACD,GAnBD;;AAqBA,MAAMyB,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACX,CAAD,EAAO;AAClCxB,IAAAA,QAAQ,CAACwB,CAAC,CAACM,MAAF,CAASC,KAAV,CAAR;AACAzB,IAAAA,iBAAiB,CAAClB,QAAQ,CAACoC,CAAC,CAACM,MAAF,CAASC,KAAV,CAAT,CAAjB;AACA,QAAMK,YAAY,GAAGhD,QAAQ,CAACoC,CAAC,CAACM,MAAF,CAASC,KAAV,CAA7B;;AACA,QAAIK,YAAY,GAAG,CAAnB,EAAsB;AACpBtB,MAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAR,MAAAA,iBAAiB,CAAC,IAAIlB,QAAQ,CAACoC,CAAC,CAACM,MAAF,CAASC,KAAV,CAAb,CAAjB;AACD,KAHD,MAGO;AACLjB,MAAAA,qBAAqB,CAAC,KAAD,CAArB;AACD;;AACDL,IAAAA,KAAK,IAAIC,QAAQ,CAAC,KAAD,CAAjB;AACD,GAXD;;AAaA,MAAM2B,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACb,CAAD,EAAO;AAClCtB,IAAAA,QAAQ,CAACsB,CAAC,CAACM,MAAF,CAASC,KAAV,CAAR;AACAvB,IAAAA,iBAAiB,CAACpB,QAAQ,CAACoC,CAAC,CAACM,MAAF,CAASC,KAAV,CAAT,CAAjB;AACA,QAAMO,YAAY,GAAGlD,QAAQ,CAACoC,CAAC,CAACM,MAAF,CAASC,KAAV,CAA7B;;AACA,QAAIO,YAAY,GAAG,CAAnB,EAAsB;AACpBtB,MAAAA,qBAAqB,CAAC,IAAD,CAArB;AACAR,MAAAA,iBAAiB,CAAC,IAAIpB,QAAQ,CAACoC,CAAC,CAACM,MAAF,CAASC,KAAV,CAAb,CAAjB;AACD,KAHD,MAGO;AACLf,MAAAA,qBAAqB,CAAC,KAAD,CAArB;AACD;;AACDP,IAAAA,KAAK,IAAIC,QAAQ,CAAC,KAAD,CAAjB;AACD,GAXD;;AAcA,qBAAuBnB,WAAW,CAACC,qBAAD,CAAlC;AAAA;AAAA,MAAOkC,WAAP;;AAGA,WAASa,mBAAT,GAA+B;AAC7Bb,IAAAA,WAAW;AACZ;;AAED,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACc,MAAAA,SAAS,EAAE,OAAZ;AAAqBC,MAAAA,KAAK,EAAE,OAA5B;AAAqCC,MAAAA,WAAW,EAAE,MAAlD;AAA0DC,MAAAA,UAAU,EAAE;AAAtE,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAIE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAEC,MAAM,CAACC,KAAzB;AAAgC,IAAA,WAAW,EAAC,0BAA5C;AAAuE,IAAA,IAAI,EAAC,OAA5E;AAAoF,IAAA,KAAK,EAAEhD,KAA3F;AAAkG,IAAA,QAAQ,EAAEgC,oBAA5G;AAAkI,IAAA,UAAU,MAA5I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAEE,CAAClB,cAAD,GAAkB,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAUR,cAAV,qBAAlB,GAEA,oBAAC,IAAD;AAAM,IAAA,KAAK,EACTQ,cAAc,GAAGiC,MAAM,CAACE,eAAV,GACZ,CAACnC,cAAD,IAAmBM,cAAnB,GAAoC2B,MAAM,CAACG,aAA3C,GACE,IAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAGgB5C,cAHhB,eAJF,EASA,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAEyC,MAAM,CAACC,KAAzB;AAAgC,IAAA,WAAW,EAAC,2BAA5C;AAAwE,IAAA,IAAI,EAAC,OAA7E;AAAqF,IAAA,KAAK,EAAE9C,KAA5F;AAAmG,IAAA,QAAQ,EAAEoC,oBAA7G;AAAmI,IAAA,UAAU,MAA7I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATA,EAUE,CAACtB,cAAD,GAAkB,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAUR,cAAV,oBAAlB,GAEA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAASA,cAAT,eAZF,EAcC,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAEuC,MAAM,CAACC,KAAzB;AAAgC,IAAA,WAAW,EAAC,0BAA5C;AAAuE,IAAA,IAAI,EAAC,OAA5E;AAAoF,IAAA,KAAK,EAAE5C,KAA3F;AAAkG,IAAA,QAAQ,EAAEoC,oBAA5G;AAAkI,IAAA,UAAU,MAA5I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdD,EAeG,CAACtB,cAAD,GAAkB,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAUR,cAAV,oBAAlB,GAED,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAASA,cAAT,eAjBF,CAJF,EAwBE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEqC,MAAM,CAACI,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,gBAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,KAAK,EAAE;AAACP,MAAAA,KAAK,EAAE,OAAR;AAAiBQ,MAAAA,UAAU,EAAE,OAA7B;AAAsCC,MAAAA,aAAa,EAAE;AAArD,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AAACC,MAAAA,QAAQ,EAAC,EAAV;AAAcC,MAAAA,KAAK,EAAE,SAArB;AAAgCC,MAAAA,SAAS,EAAE,QAA3C;AAAqDC,MAAAA,aAAa,EAAE;AAApE,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALF,CADA,CAxBF,CADF;AAqCD;;AAED,IAAMV,MAAM,GAAGW,UAAU,CAACC,MAAX,CAAkB;AAC/BC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAE,CADE;AAERC,IAAAA,UAAU,EAAE,sBAFJ;AAGRR,IAAAA,QAAQ,EAAE,EAHF;AAIRC,IAAAA,KAAK,EAAE,SAJC;AAKRQ,IAAAA,cAAc,EAAE,QALR;AAMRC,IAAAA,UAAU,EAAE;AANJ,GADqB;AAS/BC,EAAAA,SAAS,EAAE;AACTJ,IAAAA,IAAI,EAAE,CADG;AAETE,IAAAA,cAAc,EAAE,QAFP;AAGTC,IAAAA,UAAU,EAAE;AAHH,GAToB;AAc/BhB,EAAAA,KAAK,EAAE;AACLkB,IAAAA,MAAM,EAAE,EADH;AAELC,IAAAA,MAAM,EAAE,EAFH;AAGLvB,IAAAA,KAAK,EAAE,GAHF;AAILwB,IAAAA,iBAAiB,EAAE,CAJd;AAKLC,IAAAA,OAAO,EAAE,EALJ;AAMLC,IAAAA,WAAW,EAAE,SANR;AAOLN,IAAAA,UAAU,EAAE;AAPP,GAdwB;AAuB/Bb,EAAAA,MAAM,EAAE;AACNR,IAAAA,SAAS,EAAE,EADL;AAENkB,IAAAA,IAAI,EAAE,CAFA;AAGNL,IAAAA,SAAS,EAAE,QAHL;AAINZ,IAAAA,KAAK,EAAE,GAJD;AAKNmB,IAAAA,cAAc,EAAE,QALV;AAMNM,IAAAA,OAAO,EAAE,IANH;AAONL,IAAAA,UAAU,EAAE,QAPN;AAQNT,IAAAA,KAAK,EAAE,SARD;AASNgB,IAAAA,eAAe,EAAE,SATX;AAUNF,IAAAA,OAAO,EAAE;AAVH,GAvBuB;AAmC/BpB,EAAAA,eAAe,EAAE;AACfM,IAAAA,KAAK;AADU,GAnCc;AAsC/BL,EAAAA,aAAa,EAAE;AACbK,IAAAA,KAAK,WADQ;AAEbD,IAAAA,QAAQ,EAAE;AAFG;AAtCgB,CAAlB,CAAf;AA8CA,eAAevD,SAAf","sourcesContent":["import React from 'react';\nimport { syllable } from 'syllable';\nimport { useForm } from '../util/hooks';\nimport { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { CREATE_HAIKU_MUTATION } from '../graphql/Mutations';\nimport { FETCH_HAIKUS_QUERY } from '../graphql/Queries';\nimport { Input, Button } from 'react-native-elements';\nimport { View, Text, StyleSheet, TextInput, Keyboard, TouchableOpacity } from 'react-native';\n\nfunction HaikuForm () {\n\n  {/* initialize initial empty form inputs */}\n  const [line1, setLine1] = useState('');\n  const [line2, setLine2] = useState('');\n  const [line3, setLine3] = useState('');\n\n  {/* track syllable count */}\n  const [syllablesLine1, setSyllablesLine1] = useState(0);\n  const [syllablesLine2, setSyllablesLine2] = useState(0);\n  const [syllablesLine3, setSyllablesLine3] = useState(0);\n\n  {/* track form error as a whole */}\n  const [error, setError] = useState(false);\n\n  {/* track INVALID syllable conditions for each line */}\n  const [syllableError1, setSyllableErrorLine1] = useState(false);\n  const [syllableError2, setSyllableErrorLine2] = useState(false);\n  const [syllableError3, setSyllableErrorLine3] = useState(false);\n\n    {/* track the VALID syllable condition for each line */}\n    const [syllableValid1, setSyllableValidLine1] = useState(false);\n    const [syllableValid2, setSyllableValidLine2] = useState(false);\n    const [syllableValid3, setSyllableValidLine3] = useState(false);\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n\n    if (syllable(line1) === 5 && syllable(line2) === 7 && syllable(line3) === 5) {\n      await createHaiku({\n        variables: {\n          line1,\n          line2,\n          line3\n        }\n      });\n      setLine1('');\n      setLine2('');\n      setLine3('');\n    } else {\n      setError(true);\n      alert('You must fulfill all syllable requirements! ðŸ‘€')\n    }\n  }\n\n\n  const onChangeHandlerLine1 = (e) => {\n    setLine1(e.target.value);\n    setSyllablesLine1(syllable(e.target.value));\n    const setSyllLine1 = syllable(e.target.value);\n    if (setSyllLine1 > 5) {\n      setSyllableErrorLine1(true);\n      setSyllableValidLine1(false);\n      setSyllablesLine1(5 - syllable(e.target.value))\n      console.log('syllable valid ?: ', syllableValid1)\n    } else if (setSyllLine1 === 5) {\n      setSyllableValidLine1(true)\n      setSyllableErrorLine1(false);\n      console.log('syllable valid ?: ', syllableValid1)\n    } else {\n      setSyllableErrorLine1(false);\n      setSyllableValidLine1(false);\n      console.log('syllable valid ?: ', syllableValid1)\n    }\n    error && setError(false);\n  }\n\n  const onChangeHandlerLine2 = (e) => {\n    setLine2(e.target.value);\n    setSyllablesLine2(syllable(e.target.value));\n    const setSyllLine2 = syllable(e.target.value);\n    if (setSyllLine2 > 7) {\n      setSyllableErrorLine2(true);\n      setSyllablesLine2(7 - syllable(e.target.value))\n    } else {\n      setSyllableErrorLine2(false);\n    }\n    error && setError(false);\n  }\n\n  const onChangeHandlerLine3 = (e) => {\n    setLine3(e.target.value);\n    setSyllablesLine3(syllable(e.target.value));\n    const setSyllLine3 = syllable(e.target.value);\n    if (setSyllLine3 > 5) {\n      setSyllableErrorLine3(true);\n      setSyllablesLine3(5 - syllable(e.target.value))\n    } else {\n      setSyllableErrorLine3(false);\n    }\n    error && setError(false);\n  }\n\n\n  const [createHaiku ] = useMutation(CREATE_HAIKU_MUTATION);\n  \n\n  function createHaikuCallback() {\n    createHaiku();\n  }\n  \n  return (\n    <View style={{marginTop: \"10rem\", width: \"24rem\", marginRight: 'auto', marginLeft: 'auto'}}>\n      <Text className=\"create-haiku-title\">\n        Create haiku:\n      </Text>\n      <View >\n      <TextInput style={styles.input} placeholder=\"Enter your first line...\" name='line1' value={line1} onChange={onChangeHandlerLine1} noValidate></TextInput>\n      { !syllableError1 ? <Text>  { syllablesLine1 }  / 5 syllables </Text>\n       :\n        <Text style={ \n          syllableError1 ? styles.invalidSyllable \n          : !syllableError1 && syllableValid1 ? styles.validSyllable\n            : null }> { syllablesLine1 } syllables</Text>\n       }\n      <TextInput style={styles.input} placeholder=\"Enter your second line...\" name='line2' value={line2} onChange={onChangeHandlerLine2} noValidate></TextInput>\n      { !syllableError2 ? <Text>  { syllablesLine2 }  / 7 syllables</Text>\n       :\n        <Text> { syllablesLine2 } syllables</Text>\n       }\n       <TextInput style={styles.input} placeholder=\"Enter your third line...\" name='line3' value={line3} onChange={onChangeHandlerLine3} noValidate></TextInput>\n       { !syllableError3 ? <Text>  { syllablesLine3 }  / 5 syllables</Text>\n       :\n        <Text> { syllablesLine3 } syllables</Text>\n       }\n      </View>\n      <View style={styles.button}>\n      <TouchableOpacity \n        type=\"submit\"\n        style={{width: \"24rem\", paddingTop: \"0.1em\", paddingBottom: \"0.1em\"}}\n      \n      >\n        <Text\n          style={{fontSize:32, color: '#F5F2EB', textAlign: \"center\", textTransform: \"uppercase\"}}\n      >Publish haiku</Text></TouchableOpacity>\n      </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  baseText: {\n    flex: 1,\n    fontFamily: 'SFProDisplay-Regular',\n    fontSize: 24,\n    color: '#20994C',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  inputFlex: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  input: {\n    height: 40,\n    margin: 12,\n    width: 400,\n    borderBottomWidth: 2,\n    padding: 10,\n    borderColor: '#20994C',\n    alignItems: 'center'\n  },\n  button: {\n    marginTop: 24,\n    flex: 1, \n    textAlign: 'center', \n    width: 400, \n    justifyContent: 'center', \n    padding: '24', \n    alignItems: 'center', \n    color: '#F2F4F7', \n    backgroundColor: '#20994C',\n    padding: 10\n  },\n  invalidSyllable: {\n    color: `#dc143c`\n  },\n  validSyllable: {\n    color: `#32cd32`,\n    fontSize: 24\n  }\n});\n\n\n\nexport default HaikuForm;"]},"metadata":{},"sourceType":"module"}